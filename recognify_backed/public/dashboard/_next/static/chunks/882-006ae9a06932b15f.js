"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{2882:function(e,t,n){var s=n(5893),a=n(7294),l=n(907),c=n(6310),i=n(2175),r=n(5379);let o=e=>{let{setFiles:t,name:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"files",children:"Choose files"}),(0,s.jsx)("input",{type:"file",onChange:e=>{t(e.currentTarget.files?e.currentTarget.files[0]:null)},name:n,className:"form-control-alternative form-control field-input"})]})};t.Z=e=>{var t;(0,a.useRef)(null);let[n,d]=(0,a.useState)(),[m,p]=(0,a.useState)([]),u=c.Ry({project:c.Z_().required("project is required"),description:c.Z_(),status:c.Z_().required("Status is required"),deadline:c.hT().required("Deadline is required"),payments:c.IX().of(c.Ry().shape({amount:c.Rx().required("Amount is required"),currency:c.Z_().required("Currency is required"),description:c.Z_().optional(),payment_method:c.Z_().required("Payment method is required"),type:c.Rx().oneOf([1,2],"Type must be either Credit or Debit").required("Type is required")}))}),h={file:null,...(0,l.A)(e,["client_id","project","description","status","deadline","payments"])};return h.payments=h.payments?h.payments:[],(0,s.jsx)(l.Z,{config:{...e,initValue:h,validationSchema:u,formData:!0,addValue:{client_id:null===(t=e.data)||void 0===t?void 0:t.client_id,deleteArray:m},addFiles:{files:n}},children:e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"project",children:"project"}),(0,s.jsx)(i.gN,{name:"project",type:"text",className:"form-control-alternative form-control field-input"}),(0,s.jsx)(i.Bc,{name:"project",component:"div"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",children:"Description"}),(0,s.jsx)(i.gN,{name:"description",as:"textarea",className:"form-control-alternative form-control field-input"}),(0,s.jsx)(i.Bc,{name:"description",component:"div"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"status",children:"Status"}),(0,s.jsxs)(i.gN,{name:"status",as:"select",className:"form-control-alternative form-control field-input",children:[(0,s.jsx)("option",{value:"",children:"Select project Status"}),r.Vc.map(e=>(0,s.jsx)("option",{value:e,children:r.Pv[e]},e))]}),(0,s.jsx)(i.Bc,{name:"status",component:"div"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"file",children:"File"}),(0,s.jsx)(o,{setFiles:d,name:"file"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"deadline",children:"Deadline"}),(0,s.jsx)(i.gN,{name:"deadline",type:"date",className:"form-control-alternative form-control field-input"}),(0,s.jsx)(i.Bc,{name:"deadline",component:"div"})]})]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(i.F2,{name:"payments",children:t=>{let{remove:n,push:a}=t;return(0,s.jsxs)("div",{children:[e.values.payments.map((e,t)=>(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsxs)("h6",{children:["Milestone ",t+1]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{htmlFor:"payments.".concat(t,".amount"),children:"Amount"}),(0,s.jsx)(i.gN,{name:"payments.".concat(t,".amount"),type:"number",className:"form-control-alternative form-control field-input"}),(0,s.jsx)(i.Bc,{name:"payments.".concat(t,".amount"),component:"div"})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{htmlFor:"payments.".concat(t,".currency"),children:"Currency"}),(0,s.jsxs)(i.gN,{name:"payments.".concat(t,".currency"),as:"select",className:"form-control-alternative form-control field-input",children:[(0,s.jsx)("option",{value:"",children:"Select Currency"}),r.sR.map(e=>(0,s.jsx)("option",{value:e,children:r.vG[e]},e))]}),(0,s.jsx)(i.Bc,{name:"payments.".concat(t,".currency"),component:"div"})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{htmlFor:"payments.".concat(t,".payment_method"),children:"Payment Method"}),(0,s.jsxs)(i.gN,{name:"payments.".concat(t,".payment_method"),as:"select",className:"form-control-alternative form-control field-input",children:[(0,s.jsx)("option",{value:"",children:"Select Payment Method"}),r.e4.map(e=>(0,s.jsx)("option",{value:e,children:r.N4[e]},e))]}),(0,s.jsx)(i.Bc,{name:"payments.".concat(t,".payment_method"),component:"div"})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{htmlFor:"payments.".concat(t,".type"),children:"Type"}),(0,s.jsxs)(i.gN,{name:"payments.".concat(t,".type"),as:"select",className:"form-control-alternative form-control field-input",children:[(0,s.jsx)("option",{value:"",children:"Select Payment Type"}),r.W2.map(e=>(0,s.jsx)("option",{value:e,children:r.dl[e]},e))]}),(0,s.jsx)(i.Bc,{name:"payments.".concat(t,".type"),component:"div"})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{htmlFor:"payments.".concat(t,".status"),children:"Status"}),(0,s.jsxs)(i.gN,{name:"payments.".concat(t,".status"),as:"select",className:"form-control-alternative form-control field-input",children:[(0,s.jsx)("option",{value:"",children:"select pay status"}),r.wL.map((e,t)=>(0,s.jsx)("option",{value:e,children:r.jP[e]},e))]}),(0,s.jsx)(i.Bc,{name:"payments.".concat(t,".status"),component:"div"})]})]}),(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{htmlFor:"payments.".concat(t,".description"),children:"Description"}),(0,s.jsx)(i.gN,{name:"payments.".concat(t,".description"),as:"textarea",className:"form-control-alternative form-control field-input"}),(0,s.jsx)(i.Bc,{name:"payments.".concat(t,".description"),component:"div"})]})})]}),(0,s.jsx)("button",{type:"button",className:"btn mt-3",onClick:()=>{(null==e?void 0:e.id)&&p(t=>[...t,null==e?void 0:e.id]),n(t)},children:"Remove"}),(0,s.jsx)("hr",{})]},t)),(0,s.jsx)("button",{type:"button",className:"btn",onClick:()=>a({amount:"",currency:"",description:"",payment_method:"",type:1}),children:"Add Milestone"})]})}})})]}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})}),(0,s.jsx)("pre",{children:JSON.stringify(e.errors,null,1)})]})})}},907:function(e,t,n){n.d(t,{A:function(){return m}});var s=n(5893),a=n(4779),l=n(5292),c=n(2175);n(7294);var i=n(4138),r=n(9473),o=n(5379),d=n(1192);t.Z=e=>{let{id:t,onClose:n,isActive:m,type:p,urls:u,path:h,form:j=!0,formData:x=!1,validationSchema:y,initValue:v,onSuccess:f,onError:N,addValue:b,addFiles:g,deleteValue:_}=e.config,F=e.children,Z=(0,r.I0)(),q=async e=>{Z((0,l.N)(!0)),(_||[]).map(t=>delete e[t]);try{let s;let c=e={...e,...b};x&&(c=new FormData,g&&Object.keys(g).map(e=>{c.append(e,g[e])}),(Object.keys({...e,...b||{}})||[]).map(t=>{"object"!=typeof e[t]?c.append(t,e[t]):null!=e[t]&&(Object.keys(e[t])||[]).map(n=>{"object"==typeof e[t][n]?(Object.keys(e[t][n])||[]).map(s=>{c.append("".concat(t,"[").concat(s,"][]"),e[t][n][s])}):c.append("".concat(t,"[]"),e[t][n])})})),s=p===o.bk?await a.Z.put(u,c,t,!0):await a.Z.post(u,c,0,!0),200==s.status&&(Z((0,l.N)(!1)),Z((0,d.d)(!0)),n(""),f&&f())}catch(e){console.log(e),N&&N(),Z((0,l.N)(!1))}finally{Z((0,l.N)(!1))}};return(0,s.jsxs)(i.Z,{show:m,onHide:()=>n(""),dialogClassName:"modal-lg bg-glass",style:{marginLeft:"23px"},backdrop:"static",children:[(0,s.jsx)(i.Z.Header,{closeButton:!0,children:(0,s.jsx)(i.Z.Title,{children:(0,s.jsx)("h3",{children:h})})}),(0,s.jsx)(i.Z.Body,{children:j?(0,s.jsx)(c.J9,{enableReinitialize:!0,onSubmit:q,initialValues:v,validationSchema:y,children:t=>(0,s.jsx)(c.l0,{children:"function"==typeof e.children?e.children(t):"turn on form true"})}):F})]})};let m=(e,t)=>{let{type:n,data:s}=e,a={};return t.forEach(e=>{a[e]=n===o.P7?"":s[e]||""}),a}}}]);